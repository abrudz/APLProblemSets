<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Dyalog APL Workshop</title>   
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="oneliners.css" />
    <script src="util.js"></script>
    <script src="tio-dyalog.js"></script>
    <script src="testString.js"></script>
    <script src="problems.js"></script>     
    <script src="pako.min.js"></script>    
  </head>
  <body>
    <h1>Part 3: Selecting from lists</h1>
    <div class="tab">
      <h3>Use only these symbols for the problems on this page:</h3>
      <pre class="apl">
      + - × ÷ * ⍟ ⌈ ⌊ / ∧ ∨ < ≤ = ≠ ≥ > { ⍺ ⍵ } ( ) ~ ⍳ ⍸ ≢ ¨
      </pre>
    </div>
    <div class="tab">
      <div class="description">      
        <p>
          <br>
          We have now seen how to represent words in APL using lists of characters (AKA "character vectors"). We have also seen how to make lists of words ("nested character vectors").                   
        </p>
      </div>
      <pre class="apl">
      ]box on
Was OFF

      'some text'              ⍝ A simple character vector
some text

      'list' 'of' 'words'      ⍝ A nested character vector
┌────┬──┬─────┐
│list│of│words│
└────┴──┴─────┘

      'space' 'is' 'just another character'
┌─────┬──┬──────────────────────┐
│space│is│just another character│
└─────┴──┴──────────────────────┘
      </pre>
      <div class="description">
        <p>
          We have also introduced a couple of functions for comparing arrays and selecting elements from an array.
        </p>
      </div>
      <pre class="apl">
      1 0 1 1 0/'APPLE'   ⍝ Select elements 1, 3 and 4 from 'APPLE'
APL

      'APPLE'[1 3 4]      ⍝ Select elements 1, 3 and 4 from 'APPLE'
APL

      'APPLE'∊'APL'       ⍝ 1 at positions where are A, P and L found in 'APPLE'
1 1 1 1 0  
    
      ⍸'APPLE'∊'APL'      ⍝ Where are 'A', 'P' and 'L' found in 'APPLE'?
1 2 3 4
      </pre>    
    </div>
    <div class="tab">
      <h3>1: On the run</h3>
      <div class="description">
        <p>
          In a 100m sprint tournament, runners proceed to the next round if their time is under <code class="apl">11</code> seconds. Write a dfn which returns 'Next round' if the given time is under 11 seconds and 'Too slow' otherwise.
        </p>
      </div>
      <pre class="apl">
      ]box on
Was OFF
      
      RunTime 10.999
┌──────────┐
│Next round│
└──────────┘

      RunTime 11
┌────────┐
│Too slow│
└────────┘

      RunTime 12.251 12.395 10.614 9.694 10.203 11.554 12.183
┌────────┬────────┬──────────┬──────────┬──────────┬────────┬────────┐
│Too slow│Too slow│Next round│Next round│Next round│Too slow│Too slow│
└────────┴────────┴──────────┴──────────┴──────────┴────────┴────────┘   
    </div>
    <div class="tab">
      <h3>2: In or Out</h3>
      <div class="description">
        <p>
          <strong>a)</strong> Write a dyadic dfn which takes a single test value (1 number) on its right and a range (2 numbers) on its left and returns 'In' if the test value is inside the range and 'Out' if it is outside the range.
        </p>
      </div>
      <pre class="apl">
      2 8 Compare 2
┌───┐
│Out│
└───┘
      2 8 Compare 8
┌───┐
│Out│
└───┘
      2 8 Compare ⍳10
┌───┬───┬──┬──┬──┬──┬──┬───┬───┬───┐
│Out│Out│In│In│In│In│In│Out│Out│Out│
└───┴───┴──┴──┴──┴──┴──┴───┴───┴───┘      
      </pre>
      <div class="description">
        <p>
          <strong>b)</strong> Now modify your function so that it returns 'Lower' if its argument is below the range, 'Between' if it is between the range (numbers on the boundary are excluded) and 'Higher' if its argument is above the range.
        </p>
      </div>
      <pre class="apl">
      5 10 Compare 5 7 10
┌─────┬───────┬──────┐
│Lower│Between│Higher│
└─────┴───────┴──────┘      
      </pre>
    </div>
    <div class="tab">
      <h3>3: Can I have a vowel please?</h3>
      <div class="description">
        <p>
          <strong>a)</strong> Write a dfn to count the number of vowels in a character vector which is all lowercase. For this task only <code class="apl">'aeiou'</code> count as vowels. 
        </p>        
      </div>
      <pre class="apl">
      (your_solution) 'there are sixteen vowels in this character vector'
16        
      </pre>
    </div>
    <div class="tab">
      <h3>4: sdrawkcab s'taht woN</h3>
      <div class="description">
        <p>
          <strong>a)</strong> Write a dfn which reverses its right argument.
        </p>
      </div>
      <pre class="apl">
      Reverse 'Some characters'
sretcarahc emoS

      Reverse ⍳10
10 9 8 7 6 5 4 3 2 1      
      </pre>
      <div class="description">
        <p>
          <strong>b)</strong> The file <a class="apl" target="_blank" href="data/words.txt">words.txt</a> is the Unix words list (a freely available list of words). Find all the palindromes in <code class="apl">words.txt</code>. How many are there?
        </p>
      </div>
    </div>   
    <div class="tab">
      <h3>5: Without without</h3>
      <div class="description">
        <p>
          <strong>Not using <code class="apl">~</code></strong>, write a dfn which removes spaces from a text vector
        </p>
      </div>
      <pre class="apl">
      NoSpace'here is some text'
hereissometext

      NoSpace'there   are   more   spaces   here'
therearemorespaceshere
      </pre>
      <br><br>
    </div>  
    <div class="tab">
      <h3>6: How many bytes?</h3>
      <div class="description">
        <p>
          Computers represent data internally as binary data (AKA base 2). A binary number is a series of 1s and 0s which represent powers of 2. The equivalent decimal number is the sum of these powers of 2.
        </p>
      </div>
      <pre class="apl">
 1 0 1 1 0           ⍝ Binary representation
16 8 4 2 1           ⍝ Powers of 2
          
16 0 4 2 0           ⍝ Decimal representation is the sum of this vector
      +/16 0 4 2 0
22  
      </pre>
      <div class="description">
        <p>
          <strong>a)</strong> Write a function <code class="apl">Bin2Dec</code> which converts binary into decimal.
        </p>
      </div>
      <pre class="apl">
      Bin2Dec 1 0 1 1 0
22
      Bin2Dec 1 1
3
      Bin2Dec 1 0 0 1
9
      Bin2Dec¨(1 0 0 1)(1 0 1 1)
9 11      
      </pre>      
      <div class="description">
        <table class="border">
          <tr> 
            <td><strong>Lower bound</strong></td>
            <td><strong>Prefix</strong></td>
          </tr>
          <tr>
            <td>0.000000001</td>
            <td>nano</td>            
          </tr>
          <tr>
            <td>0.000001</td>
            <td>micro</td>            
          </tr>
          <tr>
            <td>0.001</td>
            <td>milli</td>            
          </tr>
          <tr>
            <td>1,000</td>
            <td>kilo</td>            
          </tr>
          <tr>
            <td>1,000,000</td>
            <td>mega</td>            
          </tr>
          <tr>
            <td>1,000,000,000</td>
            <td>giga</td>            
          </tr>
          <tr>
            <td>1,000,000,000,000</td>
            <td>tera</td>            
          </tr>
          <tr>
            <td>1,000,000,000,000,000</td>
            <td>peta</td>            
          </tr>
        </table>        
        <p>
          Decimal numbers have prefixes which make them easier to read and write. The table on the left shows prefixes for powers of <code class="apl">1,000</code>. 
          <br><br>
          <strong>b)</strong> Write a function which returns the appropriate prefix for its numeric argument.
      </div>
      <pre class="apl">
      Prefix 0.000000001
┌────┐
│nano│
└────┘
      Prefix 0.001
┌─────┐
│milli│
└─────┘
      Prefix 1024
┌────┐
│kilo│
└────┘
      Prefix 1
1
      Prefix 999      ⍝ Numbers between milli and kilo return themselves
999
      Prefix 0        ⍝ An error for 0 is acceptable
DOMAIN ERROR
      </pre>
    </div>
    <a class="apl nav right" href="rank2.html">Next →</a>
    <a class="apl nav left" href="dfns.html">← Back</a>
  </body>
</html>