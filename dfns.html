<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Dyalog APL Workshop</title>   
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="oneliners.css" />
    <script src="tio-dyalog.js"></script>
    <script src="testString.js"></script>
    <script src="problems.js"></script>     
    <script src="pako.min.js"></script>    
  </head>
  <body>
    <!-- Add <div class="tab"> for each problem -->
    <!-- Tab buttons created by tabs.js -->
    <!-- Language bar, input field and submit button included by tabs.js -->
    <h1>Part 2: Dfns and assignment</h1>
    <div class="tab">
      <div class="description">      
        <p>
          <br>
          So we have seen how to assign functions and variables to names. We will now write some useful functions as dfns and use them to solve some slightly more complex problems.
          <br><br>
          Scroll down to continue.
          <br><br>
          <strong>Name assignment:</strong>
        </p>
      </div>
      <pre class="apl">
      one←1
      
      three←3
      
      equals←=
      
      plus←+
      
      four←4
      
      four equals one plus three   ⍝ 1 means true, 0 means false
1   
      </pre> 
      <div class="description">
        <p><strong>
          Dfns:
        </p></strong>
      </div>
      <pre class="apl">
      3{⍺}5      ⍝ ⍺ is the (optional) left argument
3
     
      {⍵}'apl'   ⍝ ⍵ is the right argument
apl      

      {⍺}5       ⍝ Calling a dyadic function monadically results in an error
VALUE ERROR
      {⍺}5
      ∧      
      
      3{⍺}       ⍝ Calling a dyadic funcion without a right argument results in an error
SYNTAX ERROR: Missing right argument
      3{⍺}
       ∧      
      </pre>    
    </div>     
    
    <div class="tab">
      <div class="description">
        <ol>
          <li>
            <h3>Utility functions</h3>
            <ol type="a">
              <li>
                Without using <code class="apl">≢</code> (tally), create a function named <code class="apl">Tally</code> which returns the number of elements in a vector.
                <pre class="apl">
      Tally 1 2 4 523 1 2 454
7                
                </pre>
              </li>
              <li>
                Create a function named <code class="apl">Mean</code> which returns the mean average of a numeric vector.
                <pre class="apl">
      Mean 1 2 4 523 1 2 454
141                   
                </pre>
              </li>
              <li>
                Using <code class="apl">⌊</code> ("floor" i.e. round down), create a function <code class="apl">IsDivisibleBy</code> which returns <code class="apl">1</code> if <code class="apl">⍺</code> is divisible by <code class="apl">⍵</code> and <code class="apl">0</code> otherwise.
              </li>
            </ol>
          </li>
        </ol>
      </div>
    </div>
    
    <div class="tab">
      <h3>1: Utility functions</h3>
      <div class="description">
        <p>
          <strong>a)</strong> Without using <code class="apl">≢</code> (tally), create a function named <code class="apl">Count</code> which returns the number of elements in a vector.
          <br><br>
          <strong>b)</strong> Create a function named <code class="apl">Mean</code> which returns the mean average of a numeric vector.
          <br><br>
          <strong>c)</strong> Using <code class="apl">⌊</code> ("floor" i.e. round down), create a function <code class="apl">IsDivisibleBy</code> which returns <code class="apl">1</code> if <code class="apl">⍺</code> is divisible by <code class="apl">⍵</code> and <code class="apl">0</code> otherwise.
        </p>
      </div>
      <pre class="apl">
      Count 1 2 4 523 1 2 454
7

      Mean 1 2 4 523 1 2 454
141   
      </pre>      
    </div>
    <div class="tab">
      <h3>2: What remains</h3>
      <div class="description">
        <p>
          <code class="apl">Mod</code> is a <strong>dyadic</strong> function which returns the remainder after its right argument <strong><code class="apl">⍵</code></strong> number is divided by the left argument <strong><code class="apl">⍺</code></strong>. 
          <br><br>
          <strong>a) </strong>Write the <code class="apl">Mod</code> function as a dfn.          
        </p>        
      </div>
      <pre class="apl">
      16÷5  
3.2      
      5 Mod 16   ⍝ 3 5s and 1 left over
1      
      0.2×5      ⍝ 0.2 5s left over
1      
      12 Mod 30
6
      13 Mod 56
4
      5 Mod 30   ⍝ 5 goes into 25 exactly 6 times      
0      
      </pre>
      <div class="description">
        <p>
          <strong>b)</strong> Write a function named <code class="apl">Split</code> which takes a fractional number and returns two numbers: its integer and fractional parts.
        </p>              
      </div>
      <pre class="apl">
      Split 0
0 0
      Split ¯10
¯10 0
      Split 7.62
7 0.62
      </pre>
    </div>
    <div class="tab">
      <h3>3: What was in that vector again?</h3>
      <div class="description">
        <p>
          You should have a variable named <code class="apl">vec</code> in your workspace, from <a class="apl" href="intro.html">Part 1</a>. 
          <br><br>          
        </p>        
      </div>
      <div class="description">
        <p>
          <strong>a)</strong> How many even numbers are there in <code class="apl">vec</code>?
          <br><br>
          <strong>b)</strong> What percentage of numbers in <code class="apl">vec</code> are odd numbers?
          <br><br>
          <strong>c)</strong> What percentage of numbers in <code class="apl">vec</code> are strictly negative?
          <br><br>
          <strong>d)</strong> What percentage of numbers in <code class="apl">vec</code> are strictly positive?
          <br><br>
          <strong>e)</strong> What do you notice about the percentage of positive and negative numbers?
        </p>
      </div>      
    </div>  
    <div class="tab">
      <h3>4: Prime time</h3>
      <div class="description">
        <p>
        A prime number is divisible only by itself and <code class="apl">1</code>.
        <br><br>
        Write a dfn which returns <code class="apl">1</code> if its argument is prime and <code class="apl">0</code> otherwise.        
        </p>
      </div>
      <pre class="apl">
      IsPrime 21
0
      IsPrime 17
1
      </pre>
    </div>
    <div class="tab">
      <h3>5: Maths and logic</h3>
      <div class="description">
        <p>
          APL also has boolean logical operators built in. Here are two of them.
        </p>
      </div>
      <pre class="apl">
      1∧0   ⍝ AND
0
      1∨0   ⍝ OR
1      
      </pre>
      <div class="description">
        <p>
          <strong>a)</strong> Write an expression which sets <code class="apl">C</code> to <code class="apl">16</code> if <code class="apl">A > B</code> and otherwise sets <code class="apl">C</code> to <code class="apl">15</code>.
          <br><br>
          <strong>b)</strong> Write an expression which sets <code class="apl">C</code> to <code class="apl">42</code> if <code class="apl">N > 0</code> and <code class="apl">N < 100</code>, otherwise setting <code class="apl">C</code> to <code class="apl">50</code>.
          <br><br>
          <strong>c)</strong> Write an expression which sets <code class="apl">C</code> to <code class="apl">36</code> if <code class="apl">N > 2019</code> and otherwise sets <code class="apl">C</code> to <code class="apl">0</code>.  
          <br><br>
          <strong>d)</strong> Return <code class="apl">1</code> if all elements in a boolean vector are true and <code class="apl">0</code> otherwise.
          <br><br>
          <strong>e)</strong> Return <code class="apl">1</code> if any of the elements in a boolean vector are true and <code class="apl">0</code> otherwise.
        </p>        
      </div>
      <br><br><br><br><br>
    </div>
    <a class="apl nav right" href="selection.html">Next →</a>
    <a class="apl nav left" href="intro.html">← Back</a>
  </body>
</html>